# Week14 Assignment

> 班级：
> 学号：
> 姓名：

*阅读教材第八章，回答以下问题。*

## 1. 在进程部分，有父子进程的说法，有没有父子线程的说法，能说说理由吗？

> 因为在进程部分，父子进程存在着严格的关系，当父进程消失了，子进程就变成了孤儿进程，同时父子进程使用的是独立的资源区域。而在线程部分，当父子线程可以并发执行，父线程结束了子线程照常执行，同时父子线程共享相同的资源，并无严格关系，因此一般也就没有父子线程的说法。

## 2. 思考并写下 信号量  和  条件变量 使用方法的区别。

> 参考答案：
>
> 信号量可以设置多个资源量，比如让同时几个线程同时运行。条件变量一般和互斥量一块用，可以避免忙等待。信号量可以解决条件变量中存在的唤醒丢失问题。
>
> 信号量一次就能唤醒一个线程，条件变量可以唤醒一个或者唤醒全部。
>
> **条件变量与信号量的异同**
> 信号量利用条件变量、互斥锁、计数器实现，计数器就是信号量的核心，信号量是条件变量的高级抽象
>
> （1）使用条件变量可以一次唤醒所有等待者，而这个信号量没有的功能，感觉是最大区别。
>
> （2）信号量是有一个值（状态的），而条件变量是没有的，没有地方记录唤醒（发送信号）过多少次，也没有地方记录唤醒线程（wait返回）过多少次。从实现上来说一个信号量可以是用mutex + counter + condition variable实现的。因为信号量有一个状态，如果想精准的同步，那么信号量可能会有特殊的地方。信号量可以解决条件变量中存在的唤醒丢失问题。
>
> （3）在Posix.1基本原理一文声称，有了互斥锁和条件变量还提供信号量的原因是：“本标准提供信号量的而主要目的是提供一种进程间同步的方式；这些进程可能共享也可能不共享内存区。互斥锁和条件变量是作为线程间的同步机制说明的；这些线程总是共享(某个)内存区。这两者都是已广泛使用了多年的同步方式。每组原语都特别适合于特定的问题”。尽管信号量的意图在于进程间同步，互斥锁和条件变量的意图在于线程间同步，但是信号量也可用于线程间，互斥锁和条件变量也可用于进程间。应当根据实际的情况进行决定。信号量最有用的场景是用以指明可用资源的数量。
> ————————————————
> 版权声明：本文为CSDN博主「zhazhali_fenqi」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
> 原文链接：https://blog.csdn.net/zhazhali_fenqi/article/details/120708660

## 3.思考并写下 线程间全局变量 和 进程间共享内存 两种通信的使用方式的区别。

> 参考答案：
>
> 线程间全局变量就是在把变量声明在main外，进程间共享内存就是mmap之类的函数，线程间全局变量是同一进程访问变量所在的内存，其他进程无法访问，进程间共享内存是在内存开辟一块空间，允许不相关的进程访问。前者是静态的，在代码运行前就有这片空间了，后者是动态的，在运行到这一行代码的时候才分配空间。

## 4.信号量当前值为-3，那么现在正在被阻塞的线程数是多少？

> 3，负几就是几，因为来一个线程就会-1

## 5.两个学生甲和乙去合一楼换“航味”兑换券，形成互斥资源的是（）。

- 学生甲和学生乙   
- 合一楼和学二  
- “航味”兑换券 
- 学生和合一楼

> 兑换券。
